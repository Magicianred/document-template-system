2019-03-19 16:51:21.9547 DEBUG Setting up DataBase
2019-03-19 16:51:22.4578 INFO Entity Framework Core 2.2.2-servicing-10034 initialized 'DTSLocalDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-03-19 16:51:23.4158 INFO Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-03-19 16:51:23.5759 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [user] AS [u])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2019-03-19 16:51:23.7234 INFO User profile is available. Using 'C:\Users\piotr\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-03-19 16:51:24.4518 INFO Request starting HTTP/1.1 DEBUG http://localhost:44346/  0
2019-03-19 16:51:24.4774 INFO Request finished in 24.8078ms 200 
2019-03-19 17:00:38.5353 INFO Request starting HTTP/1.1 GET http://localhost:44346/api/users/  
2019-03-19 17:00:38.6475 INFO Successfully validated the token.
2019-03-19 17:00:38.7084 INFO Executing endpoint 'DTS.API.Controllers.UsersController.GetUsers (DTS.API)'
2019-03-19 17:00:38.7396 INFO Route matched with {action = "GetUsers", controller = "Users"}. Executing action DTS.API.Controllers.UsersController.GetUsers (DTS.API)
2019-03-19 17:00:38.7544 INFO Authorization was successful.
2019-03-19 17:00:38.7544 INFO Executing action method DTS.API.Controllers.UsersController.GetUsers (DTS.API) - Validation state: Valid
2019-03-19 17:00:43.5238 INFO Getting users...
2019-03-19 17:14:29.0214 INFO Entity Framework Core 2.2.2-servicing-10034 initialized 'DTSLocalDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-03-19 17:14:29.8386 INFO Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-03-19 17:14:29.9687 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [user] AS [u])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2019-03-19 17:14:30.0746 INFO User profile is available. Using 'C:\Users\piotr\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-03-19 17:14:30.7202 INFO Request starting HTTP/1.1 DEBUG http://localhost:44346/  0
2019-03-19 17:14:30.7539 INFO Request finished in 31.9321ms 200 
2019-03-19 17:14:32.0806 INFO Request starting HTTP/1.1 GET http://localhost:44346/api/users/  
2019-03-19 17:14:32.1759 INFO Successfully validated the token.
2019-03-19 17:14:32.2350 INFO Executing endpoint 'DTS.API.Controllers.UsersController.GetUsers (DTS.API)'
2019-03-19 17:14:32.2661 INFO Route matched with {action = "GetUsers", controller = "Users"}. Executing action DTS.API.Controllers.UsersController.GetUsers (DTS.API)
2019-03-19 17:14:32.2712 INFO Authorization was successful.
2019-03-19 17:14:32.2825 INFO Executing action method DTS.API.Controllers.UsersController.GetUsers (DTS.API) - Validation state: Valid
2019-03-19 17:14:32.2825 INFO LOOOGING.........................................................
2019-03-19 17:14:32.3088 INFO Entity Framework Core 2.2.2-servicing-10034 initialized 'DTSLocalDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-03-19 17:14:32.4086 INFO Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[id], [u].[email], [u].[login], [u].[name], [u].[password], [u].[status_id], [u].[surname], [u].[type_id], [u.Type].[id], [u.Type].[name], [u.Status].[id], [u.Status].[name]
FROM [user] AS [u]
INNER JOIN [user_type] AS [u.Type] ON [u].[type_id] = [u.Type].[id]
INNER JOIN [user_status] AS [u.Status] ON [u].[status_id] = [u.Status].[id]
2019-03-19 17:14:32.4825 INFO Executed action method DTS.API.Controllers.UsersController.GetUsers (DTS.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 189.1777ms.
2019-03-19 17:14:32.4903 INFO Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[DTS.API.Models.DTOs.ExtendedUserDTO, DTS.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-03-19 17:14:32.5136 INFO Executed action DTS.API.Controllers.UsersController.GetUsers (DTS.API) in 243.8923ms
2019-03-19 17:14:32.5136 INFO Executed endpoint 'DTS.API.Controllers.UsersController.GetUsers (DTS.API)'
2019-03-19 17:14:32.5258 INFO Request finished in 445.1962ms 200 application/json; charset=utf-8
2019-03-19 17:20:11.2044 INFO Entity Framework Core 2.2.2-servicing-10034 initialized 'DTSLocalDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-03-19 17:20:12.1169 INFO Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0
2019-03-19 17:20:12.2679 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [user] AS [u])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2019-03-19 17:20:12.3648 INFO User profile is available. Using 'C:\Users\piotr\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-03-19 17:20:12.9575 INFO Request starting HTTP/1.1 DEBUG http://localhost:44346/  0
2019-03-19 17:20:12.9836 INFO Request finished in 25.3285ms 200 
2019-03-19 17:20:26.5133 INFO Request starting HTTP/1.1 GET http://localhost:44346/api/users/  
2019-03-19 17:20:26.6138 INFO Failed to validate the token.
2019-03-19 17:20:26.6138 INFO Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
2019-03-19 17:20:26.6618 INFO Executing endpoint 'DTS.API.Controllers.UsersController.GetUsers (DTS.API)'
2019-03-19 17:20:26.6947 INFO Route matched with {action = "GetUsers", controller = "Users"}. Executing action DTS.API.Controllers.UsersController.GetUsers (DTS.API)
2019-03-19 17:20:26.7072 INFO Authorization failed.
2019-03-19 17:20:26.7072 INFO Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-19 17:20:26.7072 INFO Executing ChallengeResult with authentication schemes ().
2019-03-19 17:20:26.7238 INFO AuthenticationScheme: Bearer was challenged.
2019-03-19 17:20:26.7238 INFO Executed action DTS.API.Controllers.UsersController.GetUsers (DTS.API) in 29.3382ms
2019-03-19 17:20:26.7238 INFO Executed endpoint 'DTS.API.Controllers.UsersController.GetUsers (DTS.API)'
2019-03-19 17:20:26.7238 INFO Request finished in 217.7978ms 401 
2019-03-19 17:21:07.2594 INFO Request starting HTTP/1.1 GET http://localhost:44346/api/users/  
2019-03-19 17:21:07.2742 INFO Successfully validated the token.
2019-03-19 17:21:07.2742 INFO Executing endpoint 'DTS.API.Controllers.UsersController.GetUsers (DTS.API)'
2019-03-19 17:21:07.2877 INFO Route matched with {action = "GetUsers", controller = "Users"}. Executing action DTS.API.Controllers.UsersController.GetUsers (DTS.API)
2019-03-19 17:21:07.2877 INFO Authorization was successful.
2019-03-19 17:21:07.2974 INFO Executing action method DTS.API.Controllers.UsersController.GetUsers (DTS.API) - Validation state: Valid
2019-03-19 17:21:07.2974 INFO LOOOGING.........................................................
2019-03-19 17:21:07.3210 INFO Entity Framework Core 2.2.2-servicing-10034 initialized 'DTSLocalDBContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-03-19 17:21:07.4444 INFO Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[id], [u].[email], [u].[login], [u].[name], [u].[password], [u].[status_id], [u].[surname], [u].[type_id], [u.Type].[id], [u.Type].[name], [u.Status].[id], [u.Status].[name]
FROM [user] AS [u]
INNER JOIN [user_type] AS [u.Type] ON [u].[type_id] = [u.Type].[id]
INNER JOIN [user_status] AS [u.Status] ON [u].[status_id] = [u.Status].[id]
2019-03-19 17:21:07.5254 INFO Executed action method DTS.API.Controllers.UsersController.GetUsers (DTS.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 218.3869ms.
2019-03-19 17:21:07.5317 INFO Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[DTS.API.Models.DTOs.ExtendedUserDTO, DTS.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-03-19 17:21:07.5520 INFO Executed action DTS.API.Controllers.UsersController.GetUsers (DTS.API) in 263.1ms
2019-03-19 17:21:07.5520 INFO Executed endpoint 'DTS.API.Controllers.UsersController.GetUsers (DTS.API)'
2019-03-19 17:21:07.5520 INFO Request finished in 303.366ms 200 application/json; charset=utf-8
